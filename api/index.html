
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>SCML ModelServer API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-9c2e69fb.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-e9bde216.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-bf14acb2.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#scmlmodelserver" class="toc-h1 toc-link" data-title="SCMLModelServer">SCMLModelServer</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#actions" class="toc-h2 toc-link" data-title="Actions">Actions</a>
                  </li>
                  <li>
                    <a href="#query-string-parameters" class="toc-h2 toc-link" data-title="Query String Parameters">Query String Parameters</a>
                  </li>
                  <li>
                    <a href="#native-exact-query" class="toc-h2 toc-link" data-title="Native Exact Query">Native Exact Query</a>
                  </li>
                  <li>
                    <a href="#range-query" class="toc-h2 toc-link" data-title="Range Query">Range Query</a>
                  </li>
                  <li>
                    <a href="#anomaly" class="toc-h2 toc-link" data-title="Anomaly">Anomaly</a>
                  </li>
                  <li>
                    <a href="#standard-sql" class="toc-h2 toc-link" data-title="Standard SQL">Standard SQL</a>
                  </li>
                  <li>
                    <a href="#activeload" class="toc-h2 toc-link" data-title="ActiveLoad">ActiveLoad</a>
                  </li>
                  <li>
                    <a href="#delete" class="toc-h2 toc-link" data-title="Delete">Delete</a>
                  </li>
                  <li>
                    <a href="#namedquery" class="toc-h2 toc-link" data-title="NamedQuery">NamedQuery</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#scmlexperiments" class="toc-h1 toc-link" data-title="SCMLExperiments">SCMLExperiments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#experiment" class="toc-h2 toc-link" data-title="Experiment">Experiment</a>
                  </li>
                  <li>
                    <a href="#run" class="toc-h2 toc-link" data-title="Run">Run</a>
                  </li>
                  <li>
                    <a href="#get-experiments-for-a-project" class="toc-h2 toc-link" data-title="Get Experiments For a Project">Get Experiments For a Project</a>
                  </li>
                  <li>
                    <a href="#get-experiment-by-id-for-a-project" class="toc-h2 toc-link" data-title="Get Experiment By Id For a Project">Get Experiment By Id For a Project</a>
                  </li>
                  <li>
                    <a href="#get-any-run-for-an-experiment-of-a-project" class="toc-h2 toc-link" data-title="Get Any Run For an Experiment of a Project">Get Any Run For an Experiment of a Project</a>
                  </li>
                  <li>
                    <a href="#get-last-n-runs-for-an-experiment-of-a-project" class="toc-h2 toc-link" data-title="Get Last N Runs For an Experiment of a Project">Get Last N Runs For an Experiment of a Project</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='scmlmodelserver'>SCMLModelServer</h1>
<p>Welcome to the SCMLModelServer API.</p>

<p>The API can be used to access the endpoints pertaining to SmartClean&#39;s ML offerings that serve predictions of various ML models for enabled projects and organisations.</p>

<p>The code examples can be viewed in the dark area to the right, and the programming language of the examples can be switched with the tabs in the top right.</p>

<aside class="notice">
The Latest available version is <code>version</code> v2.
</aside>
<h2 id='actions'>Actions</h2>
<p>The query string parameters helps in identifying whether a user with a valid permission can access the resource. The general structure template of a <version> url is shown with an example.</p>

<p><code>actions?op=&lt;operation&gt;&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;&amp;expid=&lt;experimentId&gt;</code></p>

<aside class="notice">
You must replace <code>projectId</code> with actual project id and <code>experimentId </code> with actual experiment id 
and replace <code>operation</code> with operation and replace <code>version</code> with v2.

</aside>
<h2 id='query-string-parameters'>Query String Parameters</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>RefersTo</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>operation</td>
<td>String</td>
<td>Operation that is to be performed by scmlmodelserver.</td>
</tr>
<tr>
<td>org</td>
<td>Organization</td>
<td>String</td>
<td>This is an <code>optional</code> parameter. Default value is None. Eg: <code>org=&lt;orgId&gt;</code></td>
</tr>
<tr>
<td>pid</td>
<td>project id</td>
<td>String</td>
<td>The project id for which the operation is to be applied</td>
</tr>
<tr>
<td>expid</td>
<td>experiment id</td>
<td>String</td>
<td>Needs to be a valid experiment id</td>
</tr>
</tbody></table>
<h2 id='native-exact-query'>Native Exact Query</h2>
<p>Native Exact Query endpoint returns the predictions that match the exact location and time, for the time those that are available in the predictions. The data pertaining to the query is returned almost instantanesouly.</p>

<p><code>operation=scmlmodelserver.native</code></p>
<div class="highlight"><pre class="highlight python tab-python"><code>
<span class="n">modelserver_url</span> <span class="o">=</span> <span class="s">'https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlmodelserver.native&amp;pid=&lt;projectId&gt;&amp;expid=&lt;experimentId&gt;'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">modelserver_url</span><span class="p">,</span>
<span class="n">json</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"t"</span><span class="p">:</span><span class="s">"2020-09-30 00:00:00"</span><span class="p">,</span>
        <span class="s">"groupcol"</span><span class="p">:</span><span class="s">"ABC"</span>
      <span class="p">})</span>     
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

</code></pre></div>
<table><thead>
<tr>
<th>insid</th>
<th>datecol</th>
<th>y</th>
<th>yhat</th>
<th>yhat_lower</th>
<th>yhat_upper</th>
</tr>
</thead><tbody>
<tr>
<td>ABC</td>
<td>2020-09-30 00:00:00</td>
<td>0.0</td>
<td>0</td>
<td>0</td>
<td>3</td>
</tr>
</tbody></table>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlmodelserver.native&amp;pid=&lt;projectId&gt;&amp;expid=&lt;experimentId&gt;</code></p>

<p><code>Content-type:application/json</code></p>

<blockquote>
<p>Request Body </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"t"</span><span class="p">:</span><span class="s2">"2020-09-30 00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"groupcol"</span><span class="p">:</span><span class="s2">"ABC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Format</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>t</td>
<td>yyyy-mm-dd HH:MM:SS</td>
<td>String</td>
<td>The datetime parameter in the specified format yyyy-mm-dd HH:MM:SS to get predictions for the specific instant in time.</td>
</tr>
<tr>
<td>groupcol</td>
<td></td>
<td>String</td>
<td>A valid value of the groupcol. Typically a location for which the predictions need to be fetched.</td>
</tr>
</tbody></table>

<p>This API is currently used to serve predictions made by algorithms like forecasting and regression.</p>
<h2 id='range-query'>Range Query</h2>
<p>Range Query endpoint enables users to query predictions for a location within the time-range for which the predictions were made.</p>

<p><code>operation=scmlmodelserver.range</code></p>
<div class="highlight"><pre class="highlight python tab-python"><code>
<span class="n">modelserver_url</span> <span class="o">=</span> <span class="s">'https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlmodelserver.range&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;&amp;expid=&lt;experimentId&gt;'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">modelserver_url</span><span class="p">,</span>
<span class="n">json</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"start"</span><span class="p">:</span><span class="s">"2020-10-12 00:00:00"</span><span class="p">,</span>
        <span class="s">"end"</span><span class="p">:</span><span class="s">"2020-10-12 00:02:00"</span><span class="p">,</span>
        <span class="s">"groupcol"</span><span class="p">:</span><span class="s">"291"</span>
      <span class="p">})</span>  
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div>
<table><thead>
<tr>
<th>devid</th>
<th>datecol</th>
<th>predicted</th>
<th>predicted_std</th>
<th>predicted_lower</th>
<th>predicted_upper</th>
</tr>
</thead><tbody>
<tr>
<td>291</td>
<td>2020-10-12 00:00:00</td>
<td>1.381434</td>
<td>0.0157629</td>
<td>1.350538</td>
<td>1.412329</td>
</tr>
<tr>
<td>292</td>
<td>2020-10-12 00:01:00</td>
<td>1.380413</td>
<td>0.014606</td>
<td>1.351783</td>
<td>1.409042</td>
</tr>
<tr>
<td>293</td>
<td>2020-10-12 00:02:00</td>
<td>1.378264</td>
<td>0.014029</td>
<td>1.350765</td>
<td>1.405762</td>
</tr>
</tbody></table>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlmodelserver.range&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;&amp;expid=&lt;experimentId&gt;</code></p>

<p><code>Content-type:application/json</code></p>

<blockquote>
<p>Request Body </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"start"</span><span class="p">:</span><span class="s2">"2020-10-12 00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end"</span><span class="p">:</span><span class="s2">"2020-10-12 00:02:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"groupcol"</span><span class="p">:</span><span class="s2">"291"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Format</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start</td>
<td>yyyy-mm-dd HH:MM:SS</td>
<td>String</td>
<td>start-time in specified format</td>
</tr>
<tr>
<td>end</td>
<td>yyyy-mm-dd HH:MM:SS</td>
<td>String</td>
<td>end-time in specified format</td>
</tr>
<tr>
<td>groupcol</td>
<td></td>
<td>String</td>
<td>A valid value of the groupcol. Typically a location for which the predictions need to be fetched.</td>
</tr>
</tbody></table>

<p>This API is currently used to serve predictions made by algorithms like forecasting and regression.</p>
<h2 id='anomaly'>Anomaly</h2>
<p>API to query anomaly labelled grid data points. In this setting we define a near-exact match. The near exact match rounds down the value to the near existing value in the grid and returns the data point with anomaly score and class.</p>

<p><code>operation=scmlmodelserver.anomalyNative</code></p>
<div class="highlight"><pre class="highlight python tab-python"><code>
<span class="n">modelserver_url</span> <span class="o">=</span> <span class="s">'https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlmodelserver.anomalyNative&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;&amp;expid=&lt;experimentId&gt;'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">modelserver_url</span><span class="p">,</span>
<span class="n">json</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"dim1"</span><span class="p">:</span><span class="mf">0.5</span><span class="p">,</span>
        <span class="s">"dim2"</span><span class="p">:</span><span class="mf">0.9</span><span class="p">,</span>
        <span class="s">"groupcol"</span><span class="p">:</span><span class="s">"ABC"</span>
<span class="p">})</span>  
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div>
<table><thead>
<tr>
<th>,</th>
<th>grid_amm</th>
<th>grid_voc</th>
<th>anomaly_score</th>
<th>anomaly_class</th>
<th>groupcol</th>
</tr>
</thead><tbody>
<tr>
<td>212</td>
<td>0.555555</td>
<td>1.111111</td>
<td>0.683830</td>
<td>-1</td>
<td>ABC</td>
</tr>
</tbody></table>

<p><code>Anomaly Class = -1</code> </p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlmodelserver.anomalyNative&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;&amp;expid=&lt;experimentId&gt;</code></p>

<p><code>Content-type:application/json</code></p>

<blockquote>
<p>Request Body </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"dim1"</span><span class="p">:</span><span class="mf">0.5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dim2"</span><span class="p">:</span><span class="mf">0.9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"groupcol"</span><span class="p">:</span><span class="s2">"ABC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='body-parameters-3'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Format</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dim1</td>
<td>amm</td>
<td>float</td>
<td>The amm value to be queried</td>
</tr>
<tr>
<td>dim2</td>
<td>voc</td>
<td>float</td>
<td>The voc value to be queried</td>
</tr>
<tr>
<td>groupcol</td>
<td></td>
<td>String</td>
<td>A valid value of the groupcol. Typically a location for which the predictions need to be fetched.</td>
</tr>
</tbody></table>

<p>This API is currently used to serve predictions made by anoamly detection algorithms.</p>
<h2 id='standard-sql'>Standard SQL</h2>
<p>operation=<code>scmlmodelserver.sql</code></p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">modelserver_url</span> <span class="o">=</span> <span class="s">'https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlmodelserver.sql&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;&amp;expid=&lt;experimentId&gt;'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">modelserver_url</span><span class="p">,</span>
<span class="n">json</span> <span class="o">=</span> <span class="p">{</span>
          <span class="s">"q"</span><span class="p">:</span><span class="s">"select * from $df limit 10"</span>
      <span class="p">})</span>  
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div>
<p>A generic SQL query endpoint. Any sql query can be passed and executed by the server to get the results. This endpoint is available 
for all the algorithms. Use the literal <code>$df</code> as part of the query which refers to the table name internally. </p>

<table><thead>
<tr>
<th>,</th>
<th>insid</th>
<th>devid</th>
<th>Unnamed: 0</th>
<th>usage</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>ABC</td>
<td>423</td>
<td>0</td>
<td>228.28888</td>
</tr>
<tr>
<td>1</td>
<td>DEF</td>
<td>245</td>
<td>1</td>
<td>44.377777</td>
</tr>
<tr>
<td>2</td>
<td>TGH</td>
<td>865</td>
<td>2</td>
<td>107.24444</td>
</tr>
<tr>
<td>3</td>
<td>PQR</td>
<td>197</td>
<td>3</td>
<td>147.29523</td>
</tr>
</tbody></table>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlmodelserver.sql&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;&amp;expid=&lt;experimentId&gt;</code></p>

<p><code>Content-type:application/json</code></p>

<blockquote>
<p>Request Body </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"q"</span><span class="p">:</span><span class="s2">"select * from $df limit 10
}
</span></code></pre></div><h3 id='body-parameters-4'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Format</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td>SQL Statement</td>
<td>String</td>
<td>A valid SQL statement</td>
</tr>
</tbody></table>
<h2 id='activeload'>ActiveLoad</h2>
<p>operation=<code>scmlmodelserver.activeLoad</code></p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">modelserver_url</span> <span class="o">=</span> <span class="s">'https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlmodelserver.activeLoad&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;&amp;expid=&lt;experimentId&gt;'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">modelserver_url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div>
<p>This endpoint deletes past last run of an experiment if it is present in scmlmodelserver. It loads the latest run predicitions for serving. This endpoint is called by a trigger which automatically updates latest run of an experiment for serving.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlmodelserver.activeLoad&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;&amp;expid=&lt;experimentId&gt;</code></p>

<p><code>Content-type:application/json</code></p>

<p>The response contains the same output as Plain SQL response.</p>
<h2 id='delete'>Delete</h2>
<p>operation=<code>scmlmodelserver.delete</code></p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">modelserver_url</span> <span class="o">=</span> <span class="s">'https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlmodelserver.delete&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;&amp;expid=&lt;experimentId&gt;'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">modelserver_url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div>
<p>An endpoint to delete the current run object from memory and any associated files of the current run from scmlmodelserver.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlmodelserver.sql&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;&amp;expid=&lt;experimentId&gt;</code></p>

<p><code>Content-type:application/json</code></p>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"func_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='namedquery'>NamedQuery</h2>
<p>operation=<code>scmlmodelserver.executeNamedQuery</code></p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">modelserver_url</span> <span class="o">=</span> <span class="s">'https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlmodelserver.executeNamedQuery&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;&amp;expid=&lt;experimentId&gt;'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">modelserver_url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div>
<p>This endpoint creates a sql query with the values provided, executes it and returns the result to the user. Predefined queries can
be added as a template and referred by a unique ID provided at the time of creation. The endpoint offers an interface to get metrics just by providing values to specified columns.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlmodelserver.executeNamedQuery&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;&amp;expid=&lt;experimentId&gt;</code></p>

<p><code>Content-type:application/json</code></p>

<p>The response contains the same output as Plain SQL response.</p>
<h3 id='body-parameters-5'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Format</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>id_for_sql_template</td>
<td>String</td>
<td>&#39;&#39;&#39; sql template &#39;&#39;&#39;</td>
</tr>
<tr>
<td>attr</td>
<td>attr_value</td>
<td>String</td>
<td>To identify template</td>
</tr>
<tr>
<td>params</td>
<td>list of key-value pairs</td>
<td>A generic key-val structure, with specific parameter in <code>key</code> and specific value in <code>value</code></td>
<td></td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w"> 
    </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"id_given_for_the_query_template"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attr"</span><span class="p">:</span><span class="s2">"attr#service#psql"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"params"</span><span class="p">:</span><span class="w">
      </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"datecol"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"datecolval"</span><span class="w">
            </span><span class="p">},</span><span class="w">

            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date_e_val"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"valid_date"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"groupcol"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"valid_groupcol"</span><span class="w"> 
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"groupcol_val"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"valid_groupcol_val"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"col"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"predicted_column_name"</span><span class="w">
            </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>,</th>
<th>insid</th>
<th>minimum</th>
<th>q1</th>
<th>median</th>
<th>q3</th>
<th>maximum</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>ABC</td>
<td>0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>2</td>
</tr>
<tr>
<td>1</td>
<td>DEF</td>
<td>0</td>
<td>1.0</td>
<td>3.0</td>
<td>8.0</td>
<td>14</td>
</tr>
</tbody></table>
<h1 id='scmlexperiments'>SCMLExperiments</h1><h2 id='experiment'>Experiment</h2>
<p>When a new algorithm needs to be added to the zoo so that it is part of SCML Algorithms, a new experiment object is created with config.
config is a nested object, which contains parameters specific for the algorithm in <code>algorithm</code> config.</p>

<p><code>query</code> config encapsulates information needed to query data from cloud datastore.</p>

<p><code>prediction</code> contains information about the validity of predictions typically a week, unit of prediction whether it is hourly, minute.</p>

<p><code>state</code> refers to the state of the experiment. <code>NORMAL</code> is the desired state.
Any other state requires either retraining or changes so the following run can complete and update state accordingly.</p>
<h2 id='run'>Run</h2>
<p>Run is the execution of an experiment. Generates the predictions to be served and updates the experiment object to always refer to the current valid run. When a run exists successfully it updates experiment to be in <code>NORMAL</code> state.</p>
<h2 id='get-experiments-for-a-project'>Get Experiments For a Project</h2>
<p>Get all experiments for a project. The caller specifies the project id and is able to fetch all the experiments for the project.</p>

<p><code>operation=scmlexperiments.listExperiments</code></p>
<div class="highlight"><pre class="highlight python tab-python"><code>
<span class="n">api</span> <span class="o">=</span> <span class="s">'https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlexperiments.listExperiments&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">api</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

</code></pre></div><h3 id='http-request-8'>HTTP Request</h3>
<p><code>POST https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlexperiments.listExperiments&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;</code></p>
<h3 id='response-2'>Response</h3>
<p>An array of experiment objects</p>
<h2 id='get-experiment-by-id-for-a-project'>Get Experiment By Id For a Project</h2>
<p>Get a specific experiment for a project by experiment id. </p>

<p><code>operation=scmlexperiments.getExperiment</code></p>
<div class="highlight"><pre class="highlight python tab-python"><code>
<span class="n">api</span> <span class="o">=</span> <span class="s">'https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlexperiments.getExperiment&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">api</span><span class="p">,</span><span class="n">json</span><span class="o">=</span><span class="n">json_data</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

</code></pre></div><h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlexperiments.getExperiment&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;</code></p>

<blockquote>
<p>Request Body</p>
</blockquote>

<p>A json containing the experiment id</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"expid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"valid_expid"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='response-3'>Response</h3>
<p>A json response containing the experiment object </p>
<h2 id='get-any-run-for-an-experiment-of-a-project'>Get Any Run For an Experiment of a Project</h2>
<p>Get a specific valid run object by specifying the run number for an experiment of a project.</p>

<p><code>operation=scmlexperiments.getRunForExperiment</code></p>
<div class="highlight"><pre class="highlight python tab-python"><code>
<span class="n">api</span> <span class="o">=</span> <span class="s">'https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlexperiments.getRunForExperiment&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">api</span><span class="p">,</span><span class="n">json</span><span class="o">=</span><span class="n">json_data</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

</code></pre></div><h3 id='http-request-10'>HTTP Request</h3>
<p><code>POST https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlexperiments.getRunForExperiment&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;</code></p>

<blockquote>
<p>Request Body</p>
</blockquote>

<p>A json containing the expid value and a run number</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"expid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"valid_expid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"run"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='response-4'>Response</h3>
<p>A json response containing the run object</p>
<h3 id='get-latest-run-for-an-experiment-of-a-project'>Get Latest Run For an Experiment of a Project</h3>
<p>Returns the valid latest run object of an experiment. </p>

<p><code>operation=scmlexperiments.getLatestRun</code></p>
<div class="highlight"><pre class="highlight python tab-python"><code>
<span class="n">api</span> <span class="o">=</span> <span class="s">'https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlexperiments.getLatestRun&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">api</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div><h3 id='http-request-11'>HTTP Request</h3>
<p><code>POST https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlexperiments.getLatestRun&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;</code></p>

<blockquote>
<p>Request Body</p>
</blockquote>

<p>A json containing the expid value </p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"expid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"valid_expid"</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='response-5'>Response</h3>
<p>A json response containing the latest run object for that experiment</p>
<h2 id='get-last-n-runs-for-an-experiment-of-a-project'>Get Last N Runs For an Experiment of a Project</h2>
<p>Returns the valid latest run object of an experiment. </p>

<p><code>operation=scmlexperiments.getLastNRuns</code></p>
<div class="highlight"><pre class="highlight python tab-python"><code>
<span class="n">api</span> <span class="o">=</span> <span class="s">'https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlexperiments.getLastNRuns&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">api</span><span class="p">,</span><span class="n">json</span><span class="o">=</span><span class="n">json_data</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div><h3 id='http-request-12'>HTTP Request</h3>
<p><code>POST https://&lt;baseURL&gt;/&lt;version&gt;/actions?op=scmlexperiments.getLastNRuns&amp;org=&lt;orgId&gt;&amp;pid=&lt;projectId&gt;</code></p>

<blockquote>
<p>Request Body</p>
</blockquote>

<p>A json containing the expid value </p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"expid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"valid_expid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"N"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"N"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='response-6'>Response</h3>
<p>A json response containing the last n run objects for an experiment. At most can be able to query last 10 runs.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
